<%- include('header') %>
<%- include('nav') %>
<style>
    .noClick{
        pointer-events: none;
        cursor: none;
        text-decoration: none;
        opacity: 0.1;

    }
    /*.noClick::before{*/
        /*content: "out of stock";*/
        /*font-size: 200px;*/
        /*font-family: sans-serif;*/
    /*}*/
</style>
<div class="fullPage" id="product">
    <div class="content" id="section0">
        <div id="designer" class="fifty">
            <svg id="design" class='layer svgME' xmlns='http://www.w3.org/2000/svg'>
                <defs>
                    <clipPath id="clipPath">
                        <path class="svg"></path>
                    </clipPath>
                </defs>
                <path id="base" style="fill: white" class="svg"></path>
                <image id="drag" style="clip-path: url(#clipPath); border: #111111 1px solid" x="200" y="200" width="200px" height="200px" href=""></image>
                <g class="pe" id="imgWH"><image style="clip-path: url(#clipPath);" class="layer pe" xlink:href="img/design/<%= title %>.png"></image></g>
            </svg>
            <div id="dragMeDaddy" class="move" style="display: none">
                <p><i class="arrow" id="corner"></i></p>
            </div>
            <div id="uploadBox">
                <form action="api/upload" method=POST encType="multipart/form-data" id="upload">
                    <svg x="0px" y="0px" viewBox="0 0 100 68.94250000000001"><path d="M77.959,11.074c-3.73,0-7.34,0.932-10.543,2.682C63.516,5.536,55.109,0,45.693,0c-12.85,0-23.376,10.141-23.998,22.838c-5.901,0.703-10.961,4.62-13.149,10.089C3.643,34.152,0,38.595,0,43.873c0,6.22,5.061,11.281,11.282,11.281h32.974c0-5.915,0-11.83,0-17.744c-1.384,0-4.083,0-5.468,0c-1.058,0-1.413-1.208-0.802-1.94c3.298-3.962,7.912-7.925,11.21-11.887c0.242-0.291,0.528-0.397,0.803-0.378c0.275-0.019,0.561,0.087,0.803,0.378c3.298,3.962,7.913,7.925,11.21,11.887c0.61,0.732,0.256,1.94-0.803,1.94c-1.385,0-4.084,0-5.468,0c0,5.914,0,11.829,0,17.744h22.216c12.154,0,22.041-9.887,22.041-22.04S90.111,11.074,77.959,11.074z"></path></svg>
                    <input type="file" name="file" accept="image/*" id="file">
                </form>
            </div>
        </div>
        <div class="fifty">
            <div class="design_options">
                <div class="product_info">
                    <h1 class="caps">The <%= title %>  <span class="price"></span></h1>
                    <p id="descriptor">High Quality Custom Printed Sweater, on soft premium cotton.</p>
                </div>
            <form action="/design" method="post" id="designOptions">
                <input name="logo" id="logo" hidden>
                <input name="color" class="color" id="color" hidden>
                <input name="size" id="size" hidden>
                <input type="number" name="price" class="price" readonly hidden>
                <input type="text" name="product" value="<%= title %>" hidden>
                <input id="x" type="text" name="x" value="0" hidden>
                <input id="y" type="text" name="y" value="0" hidden>
                <input id="width" type="text" name="width" value="0.5" hidden>
                <input id="height" type="text" name="height" value="0.5" hidden>
                <div class="design_options">
                    <div class="selector color_selector" id="colorSel">
                        <h2>Pick Your Color!</h2>
                        <script>
                            $.getJSON("../data/stock.json", function (json) {
                                $.each(json['<%= title %>'].S, function (k, v) {
                                    console.log(k);
                                    $('#colorSel').append($('<div onclick="shadow(this)" id=' + k.replace(' ', '_') + ' style="background: ' + v.val + '"><input hidden value="' + v.val + '"></div>'))
                                });
                            });
                        </script>
                        <!--Filled By Code (; -->
                        <input id="niceColor" name="niceColor" hidden>
                    </div>
                    <table>
                        <tr>
                            <td>
                                <div class="selector size_selector">
                                    <h2>Pick Your Size!</h2>
                                    <div id="S" onclick="hlte(this, 'S')"><p>S</p></div>
                                    <div id="M" onclick="hlte(this, 'M')"><p>M</p></div>
                                    <div id="L" onclick="hlte(this, 'L')"><p>L</p></div>
                                    <div id="XL" onclick="hlte(this, 'XL')"><p>XL</p></div>
                                </div>
                            </td>
                            <td>
                                <div>
                                    <h2>Quantity</h2>
                                    <input style="text-align: center;" type="number" name="quantity" id="cart" placeholder="0">
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
                <input class="btn" type='submit' value="Add To Cart">
                </form>
                <button id="saveME" onclick="saveSVG()"><i class="fa fa-cloud-download-alt"></i> Save Design</button>
                </div>
            </div>
        </div>
    </div>
<script src="js/save-svg-as-png.js"></script>
<script src ="js/design.js"></script>
<script>
    let Jobject = JSON.parse('<%= stock %>'.replace(/&#34;/g, '"'));


    let SIZE, COLOR, QUANTITY, avail_stock;
    $('#designOptions').submit(function(e){
        if ($('#logo').val() && $('#color').val() && $('#size').val() && $('#cart').val()) {
            if (checkQuantity(SIZE, COLOR, $('#cart').val())){
                $.ajax({
                    type: 'post',
                    url: '/design',
                    data: $('#designOptions').serialize(),
                    success: function(data){
                        $('#cart_val').html('<i class="fas fa-shopping-cart"></i>' + data).css('color', 'red')
                    }
            })
        } else{
            alert('Please pick your color, choose your size and upload a logo!');
        }
        e.preventDefault();
    }});
    $('.selector').click(function(){
        $('#niceColor').val(COLOR);
        if (SIZE && COLOR){
            avail_stock = Jobject[SIZE][COLOR]["stock"]
            if (avail_stock < 50){
                $('#cart').attr('placeholder',String(avail_stock) + " left");
            }
            else{
                $('#cart').attr('placeholder', '0');
            }
        }
    });

    if ("<%= title %>"=="hoodie"){
        $('.svg').attr("d",'M722.61,758.25v1c-.44.65-.9,1.29-1.33,2-3.81,5.76-6.78,12.21-14,14.92-1.4.52-2.65,3-2.88,4.76a107.31,107.31,0,0,0-.71,13.43c-.09,13,0,25.91,0,38.84a16.74,16.74,0,0,1-2.28.78c-10.37,1.53-20.7,3.39-31.12,4.46A212.27,212.27,0,0,1,642,839.71c-7-.23-10.88-4.5-11.6-11.38-1.19-11.23-2.18-22.5-2.67-33.77-.31-7.28-.71-14.22-6.06-19.9a10.6,10.6,0,0,1-2.12-4.47c-4.58-17.3-9.83-34.47-13.4-52C601,693,597,667.54,592.61,642.16c-4-23.41-8.32-46.79-11.6-70.3-3.07-22-5.19-44.2-7.26-66.35-.94-10.08-1-20.27-1-30.41,0-10,.63-19.9.83-29.86,0-1.44-.79-2.9-1.22-4.35l-1.27.34c-.49,7.22-1.07,14.44-1.45,21.67-.46,8.64-.71,17.28-1.11,25.92-1.25,27.06-3.32,54.12-3.54,81.19-.19,23,1.61,46.12,2.74,69.17,1.17,24,3,48,3.75,72.07.65,20.81.51,41.67.06,62.49-.18,8.39-1.74,16.82-3.42,25.08-1.14,5.58-4.44,10.77-5.3,16.35-2.15,14.11-3.81,28.32-4.92,42.54-.38,4.9-2.13,6.27-6.48,6.58-11.44.83-22.86,2.54-34.31,2.79-25.94.55-51.92,1.09-77.85.37-18.59-.52-37.1-3.35-55.68-4.66q-24.63-1.72-49.35-2.33c-17.62-.47-35.31-1.2-52.89-.29-25.39,1.31-50.7,4.29-76.08,5.9a96.8,96.8,0,0,1-24.22-2c-8.53-1.66-10.09-4.46-10.48-13.28-.36-8.13-.16-16.34-1.12-24.4-1.13-9.41-1.18-19.39-8.91-26.74-.87-.83-1.18-2.33-1.58-3.57-6.25-19.83-8.23-40.34-9.29-60.93-1.13-22.11.75-44.1,3.6-66,2.52-19.37,4-38.88,6.43-58.26,2.73-21.59,1.44-43.09-.33-64.62-.13-1.6-1.75-3.07-2.68-4.61-1.19,1.38-2.91,2.57-3.46,4.17a69.46,69.46,0,0,0-2.89,11.55A447.33,447.33,0,0,1,133.76,628c-5,15.28-8.47,31.09-12.57,46.67-3.25,12.36-5.76,25-9.79,37.06-4.83,14.47-10.8,28.51-13.53,43.68-1.25,7-2.79,14.41-10.63,18-1.33.62-2.23,3.32-2.39,5.13-.58,6.62-.8,13.27-1.1,19.91-.49,10.91-.94,21.81-1.41,32.64-23.5,2.07-46.52,2.88-69.87-.69.38-7.42.67-14.54,1.14-21.64s1.42-14.19,1.64-21.3,2.54-14.8-5.49-19.7c-.94-.57-1.39-2.17-1.79-3.39-6.1-18.64-9.06-37.65-7.6-57.35C2,685.39,3.1,663.69,4.5,642c1.27-19.69,2.36-39.4,4-59.06,2-24.42,3.93-48.89,7.05-73.18,3.1-24.1,7.34-48.06,11.65-72,4.07-22.62,8.37-45.23,13.49-67.63,8.84-38.66,18.56-77.11,27.58-115.72,5.92-25.34,14.81-49.66,24.32-73.79a21.39,21.39,0,0,1,3.08-6.13c5.15-6.06,10.47-12,15.89-17.79,14.75-15.83,33.74-24.7,53.66-31.61,13.1-4.54,26.64-7.82,39.9-11.93,1.95-.6,5-2.79,4.89-4-.66-6.82,3.57-10.81,7.14-15.64a282.81,282.81,0,0,0,25.52-42c4.73-9.45,9.75-18.58,11.73-29.17,1.61-8.6,7.88-13.84,15.92-16.07a149.13,149.13,0,0,1,22.87-4c5.91-.67,11.94-.31,17.91-.48Q335,1.09,358.89.34c4.26-.13,8.52-.4,12.78-.33,14.13.25,28.26.52,42.38,1,19.27.63,38.53,1.24,57.77,2.26,9.36.49,18.86.65,27.63,4.87,8.1,3.9,12.79,9.71,13.42,19.16.35,5.29,2.54,10.54,4.31,15.65,6.05,17.43,12.14,34.84,18.58,52.12,1.35,3.64,4.23,6.71,6.48,10,1.72,2.53,5.24,5.13,5,7.43-.6,6.3,3.13,8.07,7.62,9.7a80.62,80.62,0,0,0,9.38,3c8.21,1.84,16.72,2.66,24.67,5.26,27.65,9,54.13,20.13,70.22,46.63,4.44,7.32,10.06,14.4,12.41,22.4,6.36,21.66,11.83,43.63,16.55,65.71,4.55,21.3,8,42.87,11.41,64.39,2.34,14.53,4.2,29.15,5.76,43.79,2.05,19.26,4.56,38.55,5.09,57.88.55,20.24-1.26,40.54-1.5,60.83-.11,8.57,1,17.18,1.82,25.73,1.27,12.52,2.79,25,4.27,37.5,1.85,15.61,4.47,31.16,5.45,46.81.94,14.94.22,30,.19,45,0,6.11-.29,12.23-.2,18.34.21,12.95.8,25.89.84,38.84,0,15.48-.41,31-.42,46.44C720.82,753.24,722,755.74,722.61,758.25Z')
        $('#design').each(function () { $(this)[0].setAttribute('viewBox', '0 0 722.61 867.79') });
        $('#imgWH').attr('width', '722.61px').attr('height', '867.79px');
        $('.price').val(30).html('$30')
    }

    if ("<%= title %>"=="t-shirt"){
        $('.svg').attr("d", 'M373,845H320c-.51-.33-1-.89-1.52-.94-7.7-.73-15.41-1.24-23.09-2.09-14-1.57-28.09-2.71-41.94-5.16-21.48-3.79-42.85-8.26-64.16-13-10-2.21-19.95-4.89-28.58-10.9-4.94-3.44-6-7.31-5.2-13.15a133.59,133.59,0,0,0,1-19.6c-.05-4.9-1.61-9.81-1.37-14.67.64-13.48,2-26.92,2.85-40.39.79-12,1.32-24.07,2-36.1,1-16.63,1.53-33.31,3.17-49.88a177.41,177.41,0,0,1,5.9-32.66c5.09-17.29,7.14-34.46,5.15-52.49a505,505,0,0,1-3.06-52.87c-.18-36.92.71-73.85.77-110.77,0-23.93-.61-47.85-1-71.78,0-.35-.41-.68-.18-.33-3.53,4.07-7.52,7.85-10.49,12.31-3.58,5.38-6.31,11.33-9.39,17.05-5.49,10.22-15.44,17.87-17.11,30.38-.39,2.94-3.1,3.59-6.3,2.28C114.71,375,101.59,370.61,89,364.93c-23.75-10.75-47.36-21.81-70.67-33.48C11.51,328,3.63,324.94,0,317v-1c2.47-6.28,5.15-12.49,7.36-18.86C18.63,264.73,29.7,232.26,41,199.87c5.13-14.73,10.25-29.48,16-44,9.12-22.76,19.5-44.78,38.72-61.3,10.48-9,21.39-17.45,34.09-22.84,16-6.8,32.58-12.24,48.65-18.87,24.36-10,48.54-20.54,72.72-31,4-1.72,7.35-5.87,11.31-6.33,6.06-.71,9.75-3.62,13.47-7.76.94-1,4.07-1,5.76-.35,3.92,1.51,7.49,3.88,11.34,5.59,11,4.9,23,4.67,34.65,5.91,6.4.68,12.86.95,19.29,1,11.53.14,23.11.64,34.59-.19,11.71-.85,23.36-2.88,35-4.85s23-4.88,32.15-13.07c3.32-3,7-2.25,9.85,1.28,1.2,1.47,2.41,3.31,4,4,9.26,3.88,18.63,7.47,28,11.15,11.65,4.58,23.2,9.5,35,13.65C544.49,38.55,563.56,44.6,582.5,51c14.78,5,30,9.18,44.12,15.55,23.81,10.7,39.47,30,49.18,53.69,8.37,20.43,15.63,41.33,22.89,62.2,8.82,25.34,17,50.89,25.69,76.29,5.45,16,10.62,32.16,19.74,46.6,1.71,2.71,3.91,5.11,5.88,7.65v4c-9.63,4.32-19.46,8.27-28.84,13.08-11.3,5.78-22.26,12.25-33.3,18.53-13.47,7.67-26.79,15.62-40.36,23.1a184.58,184.58,0,0,1-20.39,9.57c-5.79,2.32-11.85.55-13-3.25-4.12-13.52-8-27.11-12.14-40.64-2.64-8.7-5.23-17.44-8.26-26-3.38-9.51-7.24-18.86-11.15-29-.88,3.93-2.4,7.64-2.45,11.37-.5,37.77-.65,75.54-1.18,113.3-.14,10-1.36,20.07-1.89,30.11-.77,14.53-1.49,29.06-2,43.61s-.7,28.86-1,43.3c0,.5,0,1,0,1.5-.32,15.13-1.71,30.34-.66,45.37,1,14.6,4.76,29,6.87,43.52,1.92,13.29,3.74,26.63,4.68,40,.77,11,.38,22,.06,33-.15,5-1.34,10-2.12,15-.5,3.2-1.71,6.41-1.6,9.59.35,9.9,1.59,19.77,1.71,29.67.13,11.43-1.17,22.89-.7,34.29a151,151,0,0,0,4,27,13.06,13.06,0,0,1-2.58,11.36c-5,6.43-11.14,12.07-19.42,13.41a326.25,326.25,0,0,1-35.64,4c-22.68,1.12-45.42,1-68.08,2.3-12.88.74-25.64,3.34-38.48,4.87-15,1.79-30,3.31-45,5A30.18,30.18,0,0,0,373,845Z')
        $('#design').each(function () { $(this)[0].setAttribute('viewBox', '0 0 750 844.99') });
        $('#imgWH').attr('width', '750px').attr('height', '844.99px');
        $('.price').val(10).html('$10')
    }

    if ("<%= title %>"=="quarter"){
        $('.svg').attr("d", 'M553.1,683.66c1.46,5.47,1.93,11.09,4.41,15.61,4.34,7.91-.75,14.77-6.63,17.51-6.68,3.11-13.85,6-21.08,7-32.56,4.53-65.36,1.42-98.06,2.12-9.25.19-18.53-.66-27.8-.9-14.93-.4-29.88-.3-44.79-1.13-14.6-.82-29.13-2.65-43.71-3.79-3.23-.25-6.53.83-9.79.86-14.7.1-29.4.17-44.1,0-11.93-.14-23.86-.63-35.8-1-12.43-.34-24.87-.65-37.3-1-6.66-.19-8.1-2.47-6.82-9.1,1.46-7.53,2.52-15.15,3.34-22.77.13-1.24-1.66-2.92-2.9-4-.92-.79-2.44-.85-3.6-1.43-9-4.52-11.51-9.67-9-19.36,2.88-11,5.47-21.85,4.84-33.43-.38-6.8,1.27-13.7,1.69-20.58.1-1.7-1.06-3.48-1.64-5.22-1.2,1.22-2.82,2.24-3.54,3.7-10.5,21.4-21.08,42.77-31.21,64.35-6.49,13.82-14.55,26.32-25.8,36.79-4.88,4.53-9.75,9.35-13.35,14.88-2.32,3.56-2.51,8.6-3.28,13-.64,3.7-.41,7.56-1.15,11.23-.87,4.3-3,7.56-7.8,9.07-7.29,2.27-10.14,8.73-12.08,15.44C74,779,72.64,786.8,69.84,794c-.89,2.31-5.2,4.59-8,4.64-17.43.3-34.82-.34-51.21-7.51C7.89,790,6.53,789,7.72,785.39c1.25-3.82,1.12-8.12,1.38-12.22.44-6.76,1.19-13.55.84-20.28a16.49,16.49,0,0,0-4.06-9.43C2.13,739.31.13,735.16,0,729.4c-.38-21,4.33-40.77,13-59.91a365.9,365.9,0,0,0,15.36-40.57c2.64-8.32,3.38-17.27,4.69-26,1.79-12,3.39-24,4.94-36C39.2,558,40,549,41.18,540.08c1.5-11.34,3.29-22.65,4.86-34,1.12-8.11,1.92-16.27,3.13-24.37,2.54-17,4.43-34.08,8.1-50.8,6.07-27.64,12.39-55.3,20.3-82.46,13.74-47.16,28.83-93.92,43.2-140.9,1.76-5.74,2.56-11.77,3.88-17.66,3-13.29,9.9-24.91,16.76-36.3a58.16,58.16,0,0,1,16.74-17.79q37.11-25,75.3-48.38c11.37-7,24.38-11.42,35.36-18.9,7.16-4.88,15.49-9.92,15.71-21.66.2-10.8,2.7-22,11.9-29.64C305.33,9.84,315.94,6.06,327.34,5c14.76-1.35,29.58-2.25,44.39-3,11.08-.6,22.2-.67,33.3-1.07,6.43-.23,12.89-1.18,19.29-.83A191.22,191.22,0,0,1,449.1,3.13c4,.76,5.45,4.56,7.32,8.34,4.8,9.7,6.35,21.41,16.64,28a138.46,138.46,0,0,1,14.27,11.24,13.06,13.06,0,0,1,3.7,5.13,11.62,11.62,0,0,0,8.1,7.58c35.19,10.67,65.34,30.65,95.33,51.12,21,14.31,36.21,33,46.6,55.88,1.2,2.64,3.29,4.88,4.5,7.52a85.31,85.31,0,0,1,3.12,9c7.52,23.05,15.1,46.08,22.53,69.16,8.22,25.55,16.73,51,24.23,76.79,3.35,11.52,5.09,23.6,6.57,35.55,1.63,13.22,2.25,26.58,3.1,39.89.55,8.58.85,17.19,1,25.8.16,9.51-.09,19,.07,28.55.21,13.44.6,26.87,1,40.31.27,9.27.19,18.58,1.09,27.79,1.59,16.3,3.85,32.53,5.75,48.8.81,7,1.92,14,2,21.06.3,16.66.62,33.35,0,50-.84,21.1-2.37,42.21-9.83,62.32-.68,1.83-1.12,3.9-2.28,5.37-4.84,6.17-3,12.87-2.29,19.68.89,8.71,4.66,17.36,1.49,26.22-1.91,5.32-5.42,9.37-11.27,10.63-5.08,1.1-5.45,5.29-5.6,9.08-.54,14.27-5,27.57-10.13,40.62-3.5,8.91-4.4,9.33-14.32,8.24a130.12,130.12,0,0,1-42.61-12c-3.95-1.9-9.31-3.7-10.81-7-1.36-3,1.56-8,2.77-12.07,3.25-10.9,6.75-21.73,9.76-32.7a9.33,9.33,0,0,0-1.32-6.84c-.62-.92-3.69-.23-5.65-.22-.28,0-.55.37-.85.46-9.46,2.79-12.86,2.7-14-10.32-.89-9.75-2.89-19.39-4.29-29.09-1.27-8.74-2.16-17.55-3.65-26.25-2.73-16,1.86-31.15,4.65-46.6,1.38-7.62.81-15.7.39-23.53-1.44-26.53-10.14-51.88-13-78.2-.84-7.84-1.39-15.72-2-23.59-1-13.46-1.76-26.95-3.23-40.37-.33-3-3.22-5.73-4.94-8.58-.94,3-2.34,5.93-2.75,9-1.5,11.2-2.69,22.45-3.93,33.69-.78,7-1.84,14-2.08,21.07-.57,16.93.4,34-1.46,50.75-1.35,12.2,2.83,22.87,4.82,34.15,2.12,12,5.47,23.84,7.37,35.89,1.31,8.29-1.32,16.2-12.47,20.26C559.88,681.71,557.2,682.41,553.1,683.66Z')
        $('#design').each(function () { $(this)[0].setAttribute('viewBox', '0 0 716.4 833.29') });
        $('#imgWH').attr('width', '716.4px').attr('height', '833.29px');
        $('.price').val(30).html('$30')
    }

    if ("<%= title %>"=="crew"){
        $('.svg').attr("d",'M589.87,593.09c-.48,15.47-1,30.94-1.43,46.41-.45,16.82-.14,33.68-1.3,50.44-1.45,20.95-.53,42.27-7.73,62.52-3,8.41-6.31,16.48-11.85,23.88-2.64,3.53-1.77,10.06-1.67,15.22.18,9.71,1.38,19.42,1.29,29.12-.06,5.36-3.32,9.22-9.31,9.92-9.7,1.15-19.36,3.29-29.06,3.51-23.66.51-47.33.28-71,.14-33.13-.21-66.25-1-99.37-.82-24.77.11-49.52,1.29-74.28,2-10.14.29-20.28.6-30.43.86-13.63.35-27.28,1.3-40.88.8a373.25,373.25,0,0,1-41-3.94c-10.08-1.49-14.19-7-14.7-17.09-.48-9.45-.56-18.93-1.09-28.38a11.37,11.37,0,0,0-2.13-6.22c-12.41-15.26-18.11-33.07-19.69-52.28-2-24.3-3.47-48.65-5.18-73a29.36,29.36,0,0,0-.81-3.12c-1.72,1.91-3.58,3-3.74,4.29-4.81,38-11.1,75.72-19.29,113.12-.75,3.43-3.57,6.37-5.25,9.63-1.37,2.65-3.56,5.45-3.52,8.16.2,13.31,1,26.61,1.67,39.91.33,6.3-2.45,12.26-8.46,14.27-7.15,2.38-14.6,4.62-22.06,5.18-10.9.83-21.92.21-32.88,0a72.2,72.2,0,0,1-10.34-1.23c-3.42-.57-5.3-2.75-5.24-6.24.18-9.81.46-19.62.7-29.43.11-4.49.91-9.13.07-13.44a21.93,21.93,0,0,0-5.22-10.71C7.36,779,4.07,769.77,2.32,759.89-.78,742.43-.29,724.83,1,707.21,2,694.12,2.4,681,3.27,667.9c1.13-17,2.49-34.09,3.7-51.15.78-10.92,1.76-21.84,2.12-32.78.62-18.46.51-37,1.27-55.4q1.56-37.83,4-75.64,2-30.78,5-61.5c2.63-26.55,4.77-53.2,8.92-79.53,6.89-43.62,14.86-87.08,23.08-130.47a199,199,0,0,1,20-57.13A83.34,83.34,0,0,1,106.82,89c30-15.87,61.23-29.07,92.62-41.92C216.79,40,233.83,32.1,251,24.54a26.51,26.51,0,0,0,12.72-11.39C269.76,2.79,281.07-1.42,293.4.42c9.32,1.38,18.76,2.09,28.16,2.81,10.92.84,21.88,2.19,32.77,1.84,14.21-.46,28.35-2.68,42.55-3.56,9.56-.59,19.18-.4,28.76-.05,2.06.08,4.68,1.92,6,3.72,5.25,7.39,12.08,12.33,20.22,16.32C474,32.4,496.52,42.57,520.15,50c19,6,38,11.83,56.91,18.21,8.94,3,17.59,7,26.22,10.84,20.37,9.1,33.68,24.29,41.28,45.44,10.68,29.77,17.5,60.45,23.79,91.3,5.32,26.14,10.52,52.31,15.4,78.53,3.84,20.66,7.26,41.39,10.58,62.14q5.13,32.13,9.64,64.36c2.12,15.26,3.88,30.59,5.4,45.92,2.16,21.78,4,43.59,5.84,65.41.94,11.42,1.48,22.88,2.1,34.33,1.43,26.71,3,53.41,4.13,80.13.93,22.58,2.08,45.21,1.6,67.79-.38,18.52-2.9,37-4.78,55.49-.3,2.94-2.42,5.65-3.35,8.58-2,6.24-5,12.51-5.24,18.85-.38,11.55.76,23.18,1.71,34.75.76,9.23.43,10.16-9.77,11.2-19.89,2-39.32-.63-58.29-6.65-7.93-2.51-8.56-3.89-8.14-12.29q.44-9,1-17.9c1.21-18.22-1.57-35.83-5.92-53.59-5.46-22.32-8.66-45.2-13.15-67.77-6-30.23-11.41-60.63-22.76-89.49-.57-1.45-2-2.55-3.08-3.81Z')
        $('#design').each(function () { $(this)[0].setAttribute('viewBox', '0 0 723.16 848.07') });
        $('#imgWH').attr('width', '723.16px').attr('height', '848.07px');
        $('.price').val(30).html('$30')
    }

    $('#file').on('dragenter mouseenter', function() {
        $('#upload').css({'background-color' : 'rgba(0,0,0,0.2)','opacity': '1'})
    }).on('dragleave mouseleave', function() {
        $('#upload').css({'background-color' : '','opacity': ''})
    });

    function hlte(x, size) {
        $('.size_selector > div').removeAttr('style');
        x.style.background="rgba(0,0,0,0.5)";
        x.style.color="rgba(255,255,255,0.8)";
        $('#size').val(size);
        checkColor(size);
        SIZE = size;
    }

    function shadow(x) {
        $('.color_selector > div').css('border', 'none');
        x.style.border = "2px solid #fff";
        let color = $(x).find('input').val()
        $('#color').val(color);
        $('#base').css('fill', color);
        checkSize(x.id.replace('_', ' '));
        COLOR = x.id.replace('_', ' ');
    }

    function checkColor(size){
        let unavail = []
        for (let color in Jobject[size]){
            let target = document.getElementById(String(color).replace(' ', '_'));
            if (Jobject[size][String(color)]["stock"]<=0){
                unavail.push(String(color));
                target.classList.add('noClick');
            }
            else{
                target.classList.remove('noClick');
            }
        }
    }
    function checkSize(color){
        Object.keys(Jobject).forEach(function(k){
            let target = document.getElementById(k);
            if (Jobject[k][color]["stock"]<=0){
                target.classList.add('noClick');

            }
            else{
                target.classList.remove('noClick');
            }
        });
    }
    function checkQuantity(size, color, quantity){
        if (quantity > Jobject[size][color]["stock"]){
            alert('Sorry! Only '+ Jobject[size][color]["stock"] + ' ' + color +' <%= title %>\'s are available at the moment! Please try a different combination.')
            return false;
        } else{
            return true;
        }
    }
</script>
<%- include('footer') %>